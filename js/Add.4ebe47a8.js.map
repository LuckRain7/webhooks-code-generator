{"version":3,"sources":["webpack:///./src/views/Add.vue?3265","webpack:///src/views/Add.vue","webpack:///./src/views/Add.vue?5938","webpack:///./src/views/Add.vue","webpack:///./src/views/Add.vue?44f1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","current","_l","item","key","title","form","span","on","handleSubmit","directives","name","rawName","value","rules","required","message","expression","offset","_e","_s","code","next","steps","length","$event","$router","push","staticRenderFns","components","Back","data","formLayout","$form","createForm","methods","back","prev","e","preventDefault","validateFields","component"],"mappings":"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","file":"js/Add.4ebe47a8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Add\"},[_c('back'),_c('div',{staticClass:\"title\"},[_vm._v(\" 添加 webhooks 服务器端代码 \")]),_c('a-steps',{attrs:{\"current\":_vm.current}},_vm._l((_vm.steps),function(item){return _c('a-step',{key:item.title,attrs:{\"title\":item.title}})}),1),_c('div',{staticClass:\"steps-content-bg\"},[_c('transition',{attrs:{\"enter-active-class\":\"fadeInLeft\"}},[(_vm.current === 1)?_c('div',{staticClass:\"from-content\"},[_c('a-form',{attrs:{\"form\":_vm.form,\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"label\":\"项目名称\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                'name',\n                {\n                  rules: [{ required: true, message: '请填写项目名称!' }],\n                } ]),expression:\"[\\n                'name',\\n                {\\n                  rules: [{ required: true, message: '请填写项目名称!' }],\\n                },\\n              ]\"}],attrs:{\"placeholder\":\"填写项目名称（仅限英文6字符）\"}})],1),_c('a-form-item',{attrs:{\"label\":\"校验秘钥\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                'secret',\n                {\n                  rules: [{ required: true, message: '请填写校验秘钥!' }],\n                } ]),expression:\"[\\n                'secret',\\n                {\\n                  rules: [{ required: true, message: '请填写校验秘钥!' }],\\n                },\\n              ]\"}],attrs:{\"placeholder\":\"填写协商校验秘钥\"}})],1),_c('a-form-item',{attrs:{\"label\":\"项目文件地址\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                'file',\n                {\n                  rules: [{ required: true, message: '请填写项目文件地址!' }],\n                } ]),expression:\"[\\n                'file',\\n                {\\n                  rules: [{ required: true, message: '请填写项目文件地址!' }],\\n                },\\n              ]\"}],attrs:{\"placeholder\":\"填写在服务器上的项目地址\"}})],1),_c('a-form-item',{attrs:{\"label\":\"CMD命令\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                'cmd',\n                {\n                  rules: [{ required: true, message: '请填写CMD命令' }],\n                } ]),expression:\"[\\n                'cmd',\\n                {\\n                  rules: [{ required: true, message: '请填写CMD命令' }],\\n                },\\n              ]\"}],attrs:{\"placeholder\":\"填写进入项目后执行的命令 用 & 进行分割\"}})],1),_c('a-form-item',{attrs:{\"label\":\"端口号\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                'port',\n                {\n                  rules: [{ required: true, message: '请填写端口号' }],\n                } ]),expression:\"[\\n                'port',\\n                {\\n                  rules: [{ required: true, message: '请填写端口号' }],\\n                },\\n              ]\"}],attrs:{\"placeholder\":\"填写端口号\"}})],1),_c('a-form-item',{attrs:{\"label\":\"接受请求地址\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                'url',\n                {\n                  rules: [{ required: true, message: '请填写接受请求地址' }],\n                } ]),expression:\"[\\n                'url',\\n                {\\n                  rules: [{ required: true, message: '请填写接受请求地址' }],\\n                },\\n              ]\"}],attrs:{\"placeholder\":\"填写接受请求地址\"}})],1),_c('a-form-item',{attrs:{\"wrapper-col\":{ span: 12, offset: 5 }}},[_c('a-button',{attrs:{\"type\":\"primary\",\"html-type\":\"submit\"}},[_vm._v(\" 确定 \")])],1)],1)],1):_vm._e()]),_c('transition',{attrs:{\"enter-active-class\":\" fadeInLeft\"}},[(_vm.current === 2)?_c('div',{staticClass:\"download \"},[_c('pre',[_vm._v(_vm._s(_vm.code))])]):_vm._e()]),_c('transition',{attrs:{\"enter-active-class\":\"fadeInLeft\"}},[(_vm.current === 0)?_c('div',{staticClass:\"server \"},[_c('p',[_vm._v(\"先按要求填写 webhooks 的信息\")]),_c('p',[_vm._v(\"系统会为你生成代码\")]),_c('p',[_vm._v(\"将代码粘贴到服务器项目 \"),_c('span',{staticClass:\"red\"},[_vm._v(\"index.js\")]),_vm._v(\" 中\")]),_c('p',[_vm._v(\"在服务器中重启服务\")])]):_vm._e()])],1),_c('div',{staticClass:\"steps-action\"},[(_vm.current === 0)?_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\" 下一步 \")]):_vm._e(),(_vm.current == _vm.steps.length - 1)?_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push('/')}}},[_vm._v(\" 返回主页 \")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Add\">\n    <back></back>\n    <!-- 标题 -->\n    <div class=\"title\">\n      添加 webhooks 服务器端代码\n    </div>\n    <!-- 步骤条 -->\n    <a-steps :current=\"current\">\n      <a-step v-for=\"item in steps\" :key=\"item.title\" :title=\"item.title\" />\n    </a-steps>\n    <!-- 内容 -->\n    <div class=\"steps-content-bg\">\n      <!-- 表单 1 -->\n      <transition enter-active-class=\"fadeInLeft\">\n        <div v-if=\"current === 1\" class=\"from-content\">\n          <a-form\n            :form=\"form\"\n            :label-col=\"{ span: 5 }\"\n            :wrapper-col=\"{ span: 12 }\"\n            @submit=\"handleSubmit\"\n          >\n            <a-form-item label=\"项目名称\">\n              <a-input\n                v-decorator=\"[\n                  'name',\n                  {\n                    rules: [{ required: true, message: '请填写项目名称!' }],\n                  },\n                ]\"\n                placeholder=\"填写项目名称（仅限英文6字符）\"\n              />\n            </a-form-item>\n\n            <a-form-item label=\"校验秘钥\">\n              <a-input\n                v-decorator=\"[\n                  'secret',\n                  {\n                    rules: [{ required: true, message: '请填写校验秘钥!' }],\n                  },\n                ]\"\n                placeholder=\"填写协商校验秘钥\"\n              />\n            </a-form-item>\n\n            <a-form-item label=\"项目文件地址\">\n              <a-input\n                v-decorator=\"[\n                  'file',\n                  {\n                    rules: [{ required: true, message: '请填写项目文件地址!' }],\n                  },\n                ]\"\n                placeholder=\"填写在服务器上的项目地址\"\n              />\n            </a-form-item>\n\n            <a-form-item label=\"CMD命令\">\n              <a-input\n                v-decorator=\"[\n                  'cmd',\n                  {\n                    rules: [{ required: true, message: '请填写CMD命令' }],\n                  },\n                ]\"\n                placeholder=\"填写进入项目后执行的命令 用 & 进行分割\"\n              />\n            </a-form-item>\n\n            <a-form-item label=\"端口号\">\n              <a-input\n                v-decorator=\"[\n                  'port',\n                  {\n                    rules: [{ required: true, message: '请填写端口号' }],\n                  },\n                ]\"\n                placeholder=\"填写端口号\"\n              />\n            </a-form-item>\n\n            <a-form-item label=\"接受请求地址\">\n              <a-input\n                v-decorator=\"[\n                  'url',\n                  {\n                    rules: [{ required: true, message: '请填写接受请求地址' }],\n                  },\n                ]\"\n                placeholder=\"填写接受请求地址\"\n              />\n            </a-form-item>\n\n            <a-form-item :wrapper-col=\"{ span: 12, offset: 5 }\">\n              <a-button type=\"primary\" html-type=\"submit\">\n                确定\n              </a-button>\n            </a-form-item>\n          </a-form>\n        </div>\n      </transition>\n      <!-- 代码显示 2 -->\n      <transition enter-active-class=\" fadeInLeft\">\n        <!-- <transition name=\"test\"> -->\n        <div v-if=\"current === 2\" class=\"download \">\n          <pre>{{ code }}</pre>\n        </div>\n      </transition>\n      <!-- 服务器构建 -->\n      <transition enter-active-class=\"fadeInLeft\">\n        <div v-if=\"current === 0\" class=\"server \">\n          <p>先按要求填写 webhooks 的信息</p>\n          <p>系统会为你生成代码</p>\n          <p>将代码粘贴到服务器项目 <span class=\"red\">index.js</span> 中</p>\n          <p>在服务器中重启服务</p>\n        </div>\n      </transition>\n    </div>\n    <!-- 按钮 -->\n    <div class=\"steps-action\">\n      <a-button v-if=\"current === 0\" type=\"primary\" @click=\"next\">\n        下一步\n      </a-button>\n      <a-button\n        v-if=\"current == steps.length - 1\"\n        type=\"primary\"\n        @click=\"$router.push('/')\"\n      >\n        返回主页\n      </a-button>\n      <!-- <a-button v-if=\"current > 0\" style=\"margin-left: 8px\" @click=\"prev\">\n        上一步\n      </a-button> -->\n    </div>\n  </div>\n</template>\n<script>\nimport Back from \"@/components/common/Back.vue\";\nimport axios from \"axios\";\nimport ejs from \"ejs\";\n\nexport default {\n  components: {\n    Back,\n  },\n  data() {\n    return {\n      formLayout: \"horizontal\",\n      form: this.$form.createForm(this, { name: \"coordinated\" }),\n      current: 0,\n      code: null,\n      steps: [\n        {\n          title: \"阅读说明\",\n          content: \"First-content\",\n        },\n        {\n          title: \"填写表单\",\n          content: \"Second-content\",\n        },\n        {\n          title: \"生成代码\",\n          content: \"Last-content\",\n        },\n      ],\n    };\n  },\n  methods: {\n    next() {\n      this.current++;\n    },\n    back() {\n      this.$router.push(\"/\");\n    },\n    prev() {\n      this.current--;\n    },\n    handleSubmit(e) {\n      e.preventDefault();\n      this.form.validateFields(async (err, values) => {\n        if (!err) {\n          const { data } = await axios.get(\"/webhooks-code-generator/template/add.ejs\");\n          const res = ejs.render(data, values);\n          this.code = res;\n          this.current++;\n        }\n      });\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n// 引入动画\n\n.Add {\n  width: 80%;\n  margin: 30px auto;\n\n  .title {\n    font-weight: 300;\n    font-size: 42px;\n    color: #526488;\n    word-spacing: 5px;\n    text-align: center;\n    margin-bottom: 30px;\n  }\n\n  // 内容背景\n  .steps-content-bg {\n    margin-top: 16px;\n    border: 1px dashed #e9e9e9;\n    border-radius: 6px;\n    background-color: #fafafa;\n\n    min-height: 500px;\n\n    .from-content {\n      width: 700px;\n\n      margin: 40px auto;\n    }\n\n    // 文件下载\n    .download {\n      // width: 500px;\n      margin: 40px 30px;\n    }\n\n    .server {\n      width: 400px;\n      margin: 40px auto;\n\n      p {\n        font-size: 20px;\n      }\n\n      button {\n        margin-top: 40px;\n        float: right;\n        margin-right: 20px;\n      }\n    }\n  }\n\n  .steps-action {\n    margin-top: 24px;\n  }\n}\n.red {\n  color: red;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=0f7fcb38&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&id=0f7fcb38&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f7fcb38\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=0f7fcb38&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=0f7fcb38&scoped=true&lang=scss&\""],"sourceRoot":""}